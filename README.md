# GitHub POC - Flutter App

![coverage][coverage_badge]
[![style: very good analysis][very_good_analysis_badge]][very_good_analysis_link]
[![License: MIT][license_badge]][license_link]

Generated by the [Very Good CLI][very_good_cli_link] ü§ñ

A Flutter application that demonstrates GitHub API integration with clean architecture principles. The app allows users to search for repositories, view repository details, and browse issues and pull requests with real GitHub API data.

## Screenshots üì±

|                         Search Repositories                          |                          Repository Details                           |                             Issues & PRs                             |
| :------------------------------------------------------------------: | :-------------------------------------------------------------------: | :------------------------------------------------------------------: |
| ![Search](assets/readme/Screenshot%202025-09-04%20at%2020.29.25.png) | ![Details](assets/readme/Screenshot%202025-09-04%20at%2020.29.33.png) | ![Issues](assets/readme/Screenshot%202025-09-04%20at%2020.29.37.png) |

|                                Pull Requests                                |                          Repository Stats                           |
| :-------------------------------------------------------------------------: | :-----------------------------------------------------------------: |
| ![Pull Requests](assets/readme/Screenshot%202025-09-04%20at%2020.29.39.png) | ![Stats](assets/readme/Screenshot%202025-09-04%20at%2020.29.42.png) |

---

## Features üîç

This application provides comprehensive GitHub API functionality:

- **üîç Repository Search**: Search for GitHub repositories by name or keywords with real-time results
- **üìä Repository Details**: View detailed information including stars, forks, language, and owner details
- **üêõ Issues Browser**: Browse repository issues with filtering capabilities and author information
- **üîÑ Pull Requests**: View open and closed pull requests with detailed information

## Architecture üèóÔ∏è

The app follows Clean Architecture principles with clear separation of concerns:

```
lib/
‚îú‚îÄ‚îÄ domain/              # Business logic layer
‚îÇ   ‚îú‚îÄ‚îÄ model/          # Domain entities (Repository, Issue, PullRequest, User)
‚îÇ   ‚îú‚îÄ‚îÄ repository/     # Repository interfaces
‚îÇ   ‚îî‚îÄ‚îÄ use_case/       # Business use cases
‚îú‚îÄ‚îÄ data/               # Data layer
‚îÇ   ‚îú‚îÄ‚îÄ client/         # API clients (Retrofit)
‚îÇ   ‚îú‚îÄ‚îÄ dto/            # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ mapper/         # DTO to Domain mappers
‚îÇ   ‚îú‚îÄ‚îÄ module/         # Dependency injection modules
‚îÇ   ‚îî‚îÄ‚îÄ repository/     # Repository implementations
‚îú‚îÄ‚îÄ presentation/       # UI layer
‚îÇ   ‚îú‚îÄ‚îÄ feature/        # Feature-specific UI
‚îÇ   ‚îî‚îÄ‚îÄ widgets/        # Reusable UI components
‚îî‚îÄ‚îÄ l10n/              # Localization
```

## Tech Stack üíª

- **Flutter**: Cross-platform mobile framework
- **Bloc/Cubit**: State management with reactive programming
- **AutoRoute**: Code-generated type-safe navigation
- **Retrofit**: Type-safe HTTP client for API calls
- **Dio**: HTTP client with interceptors and logging
- **Injectable & Get_it**: Dependency injection framework
- **JSON Serializable**: Code generation for JSON mapping
- **Material 3**: Modern UI design system

---

## Prerequisites üìã

- Flutter SDK (>=3.0.0)
- Dart SDK (>=3.0.0)
- GitHub Personal Access Token (for API access)

## Setup Instructions üöÄ

### 1. Clone and Install Dependencies

```bash
git clone https://github.com/Kurczaak/github_poc.git
cd github_poc
flutter pub get
```

### 2. Generate Code

```bash
dart run build_runner build --delete-conflicting-outputs
```

### 3. Get GitHub Personal Access Token üîë

1. Go to [GitHub Settings > Developer settings > Personal access tokens](https://github.com/settings/tokens)
2. Click **"Generate new token (classic)"**
3. Give your token a name (e.g., "Flutter GitHub POC")
4. Select the following scopes:
   - `repo` - Full control of private repositories
   - `read:user` - Read access to user profile
   - `user:email` - Read access to user email
5. Click **"Generate token"**
6. **Copy the token immediately** (you won't be able to see it again)

### 4. Configure the Token

#### Option A: Using VS Code (Recommended)

The project includes VS Code launch configurations with GitHub token support:

1. Open the project in VS Code
2. Edit `.vscode/launch.json`
3. Replace the token in the `--dart-define=GITHUB_TOKEN=` argument with your actual token
4. Use the "Launch development" configuration to run the app

#### Option B: Using Command Line

```bash
# Development with GitHub token
flutter run --flavor development --target lib/main_development.dart --dart-define=GITHUB_TOKEN=your_actual_token_here

# Staging with GitHub token
flutter run --flavor staging --target lib/main_staging.dart --dart-define=GITHUB_TOKEN=your_actual_token_here

# Production with GitHub token
flutter run --flavor production --target lib/main_production.dart --dart-define=GITHUB_TOKEN=your_actual_token_here
```

#### Option C: Using the Shell Script

1. Make the script executable:

   ```bash
   chmod +x run_with_token.sh
   ```

2. Edit `run_with_token.sh` and replace `YOUR_GITHUB_TOKEN` with your actual token

3. Run the script:
   ```bash
   ./run_with_token.sh
   ```

### 5. Environment Configuration

This project contains 3 flavors with different configurations:

- **development**: Uses real GitHub API with full logging and debugging
- **staging**: Uses real GitHub API with minimal logging
- **production**: Uses real GitHub API optimized for release

**Note**: Without a GitHub token, the app will still work but with limited API rate limits (60 requests/hour vs 5,000 with token).

---

## API Rate Limits ‚ö°

- **Authenticated requests**: 5,000 requests per hour
- **Unauthenticated requests**: 60 requests per hour

With a personal access token, you get much higher rate limits and access to private repositories.

---

## Usage üì±

1. **Search Repositories**: Enter keywords in the search bar to find repositories
2. **View Details**: Tap on any repository card to see detailed information
3. **Browse Issues**: Navigate to the issues tab to see repository issues
4. **View Pull Requests**: Check open and closed pull requests
5. **Owner Information**: Tap on owner avatars to see more details

---

## Getting Started üöÄ

## Building for Release üì¶

### Android

```bash
flutter build apk --release --dart-define=GITHUB_TOKEN=your_token
```

### iOS

```bash
flutter build ios --release --dart-define=GITHUB_TOKEN=your_token
```

**Security Note**: ‚ö†Ô∏è Never commit your GitHub token to version control! Always use dart-defines or environment variables.

---

## Alternative Running Methods

This project contains 3 flavors that can also be run without explicit token passing:

- development
- staging
- production

To run the desired flavor either use the launch configuration in VSCode/Android Studio or use the following commands:

```sh
# Development
$ flutter run --flavor development --target lib/main_development.dart

# Staging
$ flutter run --flavor staging --target lib/main_staging.dart

# Production
$ flutter run --flavor production --target lib/main_production.dart
```

_\*Github Poc works on iOS, Android, Web, and Windows._

---

## Troubleshooting üîß

### Common Issues

1. **"API rate limit exceeded"**

   - Ensure you're using a GitHub personal access token
   - Check your token has the correct permissions

2. **"Build runner errors"**

   - Run `flutter clean` then `flutter pub get`
   - Re-run `dart run build_runner build --delete-conflicting-outputs`

3. **"Network errors"**

   - Check your internet connection
   - Verify your GitHub token is valid and not expired

4. **"Token not working"**
   - Make sure you're passing the token correctly with `--dart-define=GITHUB_TOKEN=your_token`
   - Verify the token has `repo`, `read:user`, and `user:email` scopes

---

## Running Tests üß™

To run all unit and widget tests use the following command:

```sh
$ very_good test --coverage --test-randomize-ordering-seed random
```

To view the generated coverage report you can use [lcov](https://github.com/linux-test-project/lcov).

```sh
# Generate Coverage Report
$ genhtml coverage/lcov.info -o coverage/

# Open Coverage Report
$ open coverage/index.html
```

---

## Working with Translations üåê

This project relies on [flutter_localizations][flutter_localizations_link] and follows the [official internationalization guide for Flutter][internationalization_link].

### Adding Strings

1. To add a new localizable string, open the `app_en.arb` file at `lib/l10n/arb/app_en.arb`.

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    }
}
```

2. Then add a new key/value and description

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    },
    "helloWorld": "Hello World",
    "@helloWorld": {
        "description": "Hello World Text"
    }
}
```

3. Use the new string

```dart
import 'package:github_poc/l10n/l10n.dart';

@override
Widget build(BuildContext context) {
  final l10n = context.l10n;
  return Text(l10n.helloWorld);
}
```

### Adding Supported Locales

Update the `CFBundleLocalizations` array in the `Info.plist` at `ios/Runner/Info.plist` to include the new locale.

```xml
    ...

    <key>CFBundleLocalizations</key>
	<array>
		<string>en</string>
		<string>es</string>
	</array>

    ...
```

### Adding Translations

1. For each supported locale, add a new ARB file in `lib/l10n/arb`.

```
‚îú‚îÄ‚îÄ l10n
‚îÇ   ‚îú‚îÄ‚îÄ arb
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app_en.arb
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app_es.arb
```

2. Add the translated strings to each `.arb` file:

`app_en.arb`

```arb
{
    "@@locale": "en",
    "counterAppBarTitle": "Counter",
    "@counterAppBarTitle": {
        "description": "Text shown in the AppBar of the Counter Page"
    }
}
```

`app_es.arb`

```arb
{
    "@@locale": "es",
    "counterAppBarTitle": "Contador",
    "@counterAppBarTitle": {
        "description": "Texto mostrado en la AppBar de la p√°gina del contador"
    }
}
```

### Generating Translations

To use the latest translations changes, you will need to generate them:

1. Generate localizations for the current project:

```sh
flutter gen-l10n --arb-dir="lib/l10n/arb"
```

Alternatively, run `flutter run` and code generation will take place automatically.

[coverage_badge]: coverage_badge.svg
[flutter_localizations_link]: https://api.flutter.dev/flutter/flutter_localizations/flutter_localizations-library.html
[internationalization_link]: https://flutter.dev/docs/development/accessibility-and-localization/internationalization
[license_badge]: https://img.shields.io/badge/license-MIT-blue.svg
[license_link]: https://opensource.org/licenses/MIT
[very_good_analysis_badge]: https://img.shields.io/badge/style-very_good_analysis-B22C89.svg
[very_good_analysis_link]: https://pub.dev/packages/very_good_analysis
[very_good_cli_link]: https://github.com/VeryGoodOpenSource/very_good_cli
